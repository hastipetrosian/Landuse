---
title: "Running random forests for the whole spatial set "
---
```{r}
library(purrr)
library(dplyr)
```

```{r input_data}
## increase memory
if (.Platform$OS.type=="windows") memory.limit(1000000)
## get all data (as tables of x,y, predictors, change)
load("rr_points14.RData")
```
filter all data
```{r filter}
datal=map(rr_points14, filter, x<604000 & y >284000 &  y < 2846000)
```
filte gain data
```{r}
datalgain=map(datal, filter, change %in% c("no gain", "gain"))
```
upsample all data
H-P:error;1: change ~ 1987.x
```{r}
datal_upsample <- map(?datalgain, ovun.sample(change ~ ., data = ?datalgain, method = "both", N=1500)$data)

```

